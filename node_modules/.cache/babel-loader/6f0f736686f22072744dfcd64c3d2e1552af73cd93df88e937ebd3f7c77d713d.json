{"ast":null,"code":"var _jsxFileName = \"D:\\\\proiecte\\\\frontend\\\\src\\\\pages\\\\Management.js\",\n  _s = $RefreshSig$();\nimport { Await, defer, json, redirect, useActionData, useRouteLoaderData } from \"react-router-dom\";\nimport { getAuthToken } from \"../utils/auth\";\nimport { Suspense } from \"react\";\nimport ProfileForm from \"../components/ProfileForm\";\nimport BookList from \"../components/BookList\";\nimport ClientList from \"../components/ClientList\";\nimport CategoryList from \"../components/CategoryList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ManagementPage = () => {\n  _s();\n  const {\n    user,\n    reservations,\n    categories\n  } = useRouteLoaderData(\"management\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 29\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Await, {\n          resolve: clients,\n          children: loadedCat => /*#__PURE__*/_jsxDEV(CategoryList, {\n            clients: loadedRloadedCatezv\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 28\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(ManagementPage, \"hH++c9k2CH66Xu0a1DlPMEX1bYs=\", false, function () {\n  return [useRouteLoaderData];\n});\n_c = ManagementPage;\nexport default ManagementPage;\nexport const action = async ({\n  request,\n  params\n}) => {\n  const token = getAuthToken();\n  return true;\n};\nconst loadCategories = async () => {\n  const token = getAuthToken();\n  retrun[true];\n};\nexport const loader = async ({\n  request,\n  params\n}) => {\n  const token = getAuthToken();\n  if (!token) {\n    return redirect(\"/auth?mode=login\");\n  }\n  return defer({\n    user: loadMe(),\n    reservations: loadRezervations(),\n    clients: loadClients()\n  });\n};\nvar _c;\n$RefreshReg$(_c, \"ManagementPage\");","map":{"version":3,"names":["Await","defer","json","redirect","useActionData","useRouteLoaderData","getAuthToken","Suspense","ProfileForm","BookList","ClientList","CategoryList","jsxDEV","_jsxDEV","Fragment","_Fragment","ManagementPage","_s","user","reservations","categories","children","style","display","fallback","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","resolve","clients","loadedCat","loadedRloadedCatezv","_c","action","request","params","token","loadCategories","retrun","loader","loadMe","loadRezervations","loadClients","$RefreshReg$"],"sources":["D:/proiecte/frontend/src/pages/Management.js"],"sourcesContent":["import {\r\n    Await,\r\n    defer,\r\n    json,\r\n    redirect,\r\n    useActionData,\r\n    useRouteLoaderData,\r\n  } from \"react-router-dom\";\r\n  import { getAuthToken } from \"../utils/auth\";\r\n  import { Suspense } from \"react\";\r\n  import ProfileForm from \"../components/ProfileForm\";\r\n  import BookList from \"../components/BookList\";\r\n  import ClientList from \"../components/ClientList\";\r\nimport CategoryList from \"../components/CategoryList\";\r\n  \r\n  const ManagementPage = () => {\r\n    const { user, reservations,categories } = useRouteLoaderData(\"management\");\r\n\r\n    return (\r\n      <>\r\n        <div style={{ display: \"flex\" }}>\r\n        <Suspense fallback={<p style={{ textAlign: \"center\" }}>Loading...</p>}>\r\n          <Await resolve={clients}>\r\n            {(loadedCat)=> <CategoryList clients={loadedRloadedCatezv}/>}\r\n          </Await>\r\n        </Suspense>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  \r\n  export default ManagementPage;\r\n  \r\n  export const action = async ({ request, params }) => {\r\n    const token = getAuthToken();\r\n  \r\n  \r\n    return true;\r\n  };\r\n  \r\n  \r\n  const loadCategories = async () => {\r\n    const token = getAuthToken();\r\n  \r\n  retrun [true];\r\n  \r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  export const loader = async ({ request, params }) => {\r\n    const token = getAuthToken();\r\n  \r\n    if (!token) {\r\n      return redirect(\"/auth?mode=login\");\r\n    }\r\n  \r\n    return defer({\r\n      user: loadMe(),\r\n      reservations: loadRezervations(),\r\n      clients: loadClients(),\r\n    });\r\n  };"],"mappings":";;AAAA,SACIA,KAAK,EACLC,KAAK,EACLC,IAAI,EACJC,QAAQ,EACRC,aAAa,EACbC,kBAAkB,QACb,kBAAkB;AACzB,SAASC,YAAY,QAAQ,eAAe;AAC5C,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAOC,UAAU,MAAM,0BAA0B;AACnD,OAAOC,YAAY,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpD,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM;IAAEC,IAAI;IAAEC,YAAY;IAACC;EAAW,CAAC,GAAGf,kBAAkB,CAAC,YAAY,CAAC;EAE1E,oBACEQ,OAAA,CAAAE,SAAA;IAAAM,QAAA,eACER,OAAA;MAAKS,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAF,QAAA,eAChCR,OAAA,CAACN,QAAQ;QAACiB,QAAQ,eAAEX,OAAA;UAAGS,KAAK,EAAE;YAAEG,SAAS,EAAE;UAAS,CAAE;UAAAJ,QAAA,EAAC;QAAU;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAE;QAAAR,QAAA,eACpER,OAAA,CAACb,KAAK;UAAC8B,OAAO,EAAEC,OAAQ;UAAAV,QAAA,EACpBW,SAAS,iBAAInB,OAAA,CAACF,YAAY;YAACoB,OAAO,EAAEE;UAAoB;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC,gBACN,CAAC;AAEP,CAAC;AAACZ,EAAA,CAdID,cAAc;EAAA,QACwBX,kBAAkB;AAAA;AAAA6B,EAAA,GADxDlB,cAAc;AAgBpB,eAAeA,cAAc;AAE7B,OAAO,MAAMmB,MAAM,GAAG,MAAAA,CAAO;EAAEC,OAAO;EAAEC;AAAO,CAAC,KAAK;EACnD,MAAMC,KAAK,GAAGhC,YAAY,CAAC,CAAC;EAG5B,OAAO,IAAI;AACb,CAAC;AAGD,MAAMiC,cAAc,GAAG,MAAAA,CAAA,KAAY;EACjC,MAAMD,KAAK,GAAGhC,YAAY,CAAC,CAAC;EAE9BkC,MAAM,CAAE,IAAI,CAAC;AAEb,CAAC;AASD,OAAO,MAAMC,MAAM,GAAG,MAAAA,CAAO;EAAEL,OAAO;EAAEC;AAAO,CAAC,KAAK;EACnD,MAAMC,KAAK,GAAGhC,YAAY,CAAC,CAAC;EAE5B,IAAI,CAACgC,KAAK,EAAE;IACV,OAAOnC,QAAQ,CAAC,kBAAkB,CAAC;EACrC;EAEA,OAAOF,KAAK,CAAC;IACXiB,IAAI,EAAEwB,MAAM,CAAC,CAAC;IACdvB,YAAY,EAAEwB,gBAAgB,CAAC,CAAC;IAChCZ,OAAO,EAAEa,WAAW,CAAC;EACvB,CAAC,CAAC;AACJ,CAAC;AAAC,IAAAV,EAAA;AAAAW,YAAA,CAAAX,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}