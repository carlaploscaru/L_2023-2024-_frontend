{"ast":null,"code":"import Payment from 'payment';\nfunction clearNumber(value = '') {\n  return value.replace(/\\D+/g, '');\n}\nexport function formatCreditCardNumber(value) {\n  if (!value) {\n    return value;\n  }\n  const issuer = Payment.fns.cardType(value);\n  const clearValue = clearNumber(value);\n  let nextValue;\n  switch (issuer) {\n    case 'amex':\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(4, 10)} ${clearValue.slice(10, 15)}`;\n      break;\n    case 'dinersclub':\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(4, 10)} ${clearValue.slice(10, 14)}`;\n      break;\n    default:\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(4, 8)} ${clearValue.slice(8, 12)} ${clearValue.slice(12, 19)}`;\n      break;\n  }\n  return nextValue.trim();\n}\nexport function formatCVC(value, prevValue, allValues = {}) {\n  const clearValue = clearNumber(value);\n  let maxLength = 4;\n  if (allValues.number) {\n    const issuer = Payment.fns.cardType(allValues.number);\n    maxLength = issuer === 'amex' ? 4 : 3;\n  }\n  return clearValue.slice(0, maxLength);\n}\nexport function formatExpirationDate(value) {\n  const clearValue = clearNumber(value);\n  if (clearValue.length >= 3) {\n    return `${clearValue.slice(0, 2)}/${clearValue.slice(2, 4)}`;\n  }\n  return clearValue;\n}","map":{"version":3,"names":["Payment","clearNumber","value","replace","formatCreditCardNumber","issuer","fns","cardType","clearValue","nextValue","slice","trim","formatCVC","prevValue","allValues","maxLength","number","formatExpirationDate","length"],"sources":["D:/proiecte/frontend/src/pages/cardUtils.js"],"sourcesContent":["import Payment from 'payment'\r\n\r\nfunction clearNumber(value = '') {\r\n  return value.replace(/\\D+/g, '')\r\n}\r\n\r\nexport function formatCreditCardNumber(value) {\r\n  if (!value) {\r\n    return value\r\n  }\r\n\r\n  const issuer = Payment.fns.cardType(value)\r\n  const clearValue = clearNumber(value)\r\n  let nextValue\r\n\r\n  switch (issuer) {\r\n    case 'amex':\r\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(\r\n        4,\r\n        10\r\n      )} ${clearValue.slice(10, 15)}`\r\n      break\r\n    case 'dinersclub':\r\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(\r\n        4,\r\n        10\r\n      )} ${clearValue.slice(10, 14)}`\r\n      break\r\n    default:\r\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(\r\n        4,\r\n        8\r\n      )} ${clearValue.slice(8, 12)} ${clearValue.slice(12, 19)}`\r\n      break\r\n  }\r\n\r\n  return nextValue.trim()\r\n}\r\n\r\nexport function formatCVC(value, prevValue, allValues = {}) {\r\n  const clearValue = clearNumber(value)\r\n  let maxLength = 4\r\n\r\n  if (allValues.number) {\r\n    const issuer = Payment.fns.cardType(allValues.number)\r\n    maxLength = issuer === 'amex' ? 4 : 3\r\n  }\r\n\r\n  return clearValue.slice(0, maxLength)\r\n}\r\n\r\nexport function formatExpirationDate(value) {\r\n  const clearValue = clearNumber(value)\r\n\r\n  if (clearValue.length >= 3) {\r\n    return `${clearValue.slice(0, 2)}/${clearValue.slice(2, 4)}`\r\n  }\r\n\r\n  return clearValue\r\n}\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAE7B,SAASC,WAAWA,CAACC,KAAK,GAAG,EAAE,EAAE;EAC/B,OAAOA,KAAK,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;AAClC;AAEA,OAAO,SAASC,sBAAsBA,CAACF,KAAK,EAAE;EAC5C,IAAI,CAACA,KAAK,EAAE;IACV,OAAOA,KAAK;EACd;EAEA,MAAMG,MAAM,GAAGL,OAAO,CAACM,GAAG,CAACC,QAAQ,CAACL,KAAK,CAAC;EAC1C,MAAMM,UAAU,GAAGP,WAAW,CAACC,KAAK,CAAC;EACrC,IAAIO,SAAS;EAEb,QAAQJ,MAAM;IACZ,KAAK,MAAM;MACTI,SAAS,GAAI,GAAED,UAAU,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAE,IAAGF,UAAU,CAACE,KAAK,CACvD,CAAC,EACD,EACF,CAAE,IAAGF,UAAU,CAACE,KAAK,CAAC,EAAE,EAAE,EAAE,CAAE,EAAC;MAC/B;IACF,KAAK,YAAY;MACfD,SAAS,GAAI,GAAED,UAAU,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAE,IAAGF,UAAU,CAACE,KAAK,CACvD,CAAC,EACD,EACF,CAAE,IAAGF,UAAU,CAACE,KAAK,CAAC,EAAE,EAAE,EAAE,CAAE,EAAC;MAC/B;IACF;MACED,SAAS,GAAI,GAAED,UAAU,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAE,IAAGF,UAAU,CAACE,KAAK,CACvD,CAAC,EACD,CACF,CAAE,IAAGF,UAAU,CAACE,KAAK,CAAC,CAAC,EAAE,EAAE,CAAE,IAAGF,UAAU,CAACE,KAAK,CAAC,EAAE,EAAE,EAAE,CAAE,EAAC;MAC1D;EACJ;EAEA,OAAOD,SAAS,CAACE,IAAI,CAAC,CAAC;AACzB;AAEA,OAAO,SAASC,SAASA,CAACV,KAAK,EAAEW,SAAS,EAAEC,SAAS,GAAG,CAAC,CAAC,EAAE;EAC1D,MAAMN,UAAU,GAAGP,WAAW,CAACC,KAAK,CAAC;EACrC,IAAIa,SAAS,GAAG,CAAC;EAEjB,IAAID,SAAS,CAACE,MAAM,EAAE;IACpB,MAAMX,MAAM,GAAGL,OAAO,CAACM,GAAG,CAACC,QAAQ,CAACO,SAAS,CAACE,MAAM,CAAC;IACrDD,SAAS,GAAGV,MAAM,KAAK,MAAM,GAAG,CAAC,GAAG,CAAC;EACvC;EAEA,OAAOG,UAAU,CAACE,KAAK,CAAC,CAAC,EAAEK,SAAS,CAAC;AACvC;AAEA,OAAO,SAASE,oBAAoBA,CAACf,KAAK,EAAE;EAC1C,MAAMM,UAAU,GAAGP,WAAW,CAACC,KAAK,CAAC;EAErC,IAAIM,UAAU,CAACU,MAAM,IAAI,CAAC,EAAE;IAC1B,OAAQ,GAAEV,UAAU,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAE,IAAGF,UAAU,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAE,EAAC;EAC9D;EAEA,OAAOF,UAAU;AACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}