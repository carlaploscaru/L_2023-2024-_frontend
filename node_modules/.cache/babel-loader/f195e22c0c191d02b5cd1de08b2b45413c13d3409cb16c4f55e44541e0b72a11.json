{"ast":null,"code":"var _jsxFileName = \"D:\\\\proiecte\\\\frontend\\\\src\\\\pages\\\\Book.js\";\nimport { json, redirect } from \"react-router-dom\";\nimport BookForm from \"../components/BookForm\";\nimport { getAuthToken } from \"../utils/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookPage = () => {\n  return /*#__PURE__*/_jsxDEV(BookForm, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this);\n};\n_c = BookPage;\nexport const action = async ({\n  request,\n  params\n}) => {\n  const propertyId = params.propertyId;\n  const data = await request.formData();\n  const data_start = data.get(\"data_start\");\n  const data_end = data.get(\"data_end\");\n  // console.log(data_start, data_end, propertyId);\n\n  let saleData = {\n    placeId: propertyId,\n    data_start: data.get(\"data_start\"),\n    data_end: data.get(\"data_end\"),\n    nume\n  };\n  const token = getAuthToken();\n  const response = await fetch(\"http://localhost:8000/sale\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + token\n    },\n    body: JSON.stringify(saleData)\n  });\n  if (response.status === 422 || response.status === 401) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({\n      message: \"Could not authenticate user.\"\n    }, {\n      status: 500\n    });\n  }\n  return redirect(\"/\");\n};\nexport default BookPage;\nvar _c;\n$RefreshReg$(_c, \"BookPage\");","map":{"version":3,"names":["json","redirect","BookForm","getAuthToken","jsxDEV","_jsxDEV","BookPage","fileName","_jsxFileName","lineNumber","columnNumber","_c","action","request","params","propertyId","data","formData","data_start","get","data_end","saleData","placeId","nume","token","response","fetch","method","headers","Authorization","body","JSON","stringify","status","ok","message","$RefreshReg$"],"sources":["D:/proiecte/frontend/src/pages/Book.js"],"sourcesContent":["import { json, redirect } from \"react-router-dom\";\r\nimport BookForm from \"../components/BookForm\";\r\nimport { getAuthToken } from \"../utils/auth\";\r\n\r\n\r\nconst BookPage = () => {\r\n    return (\r\n        <BookForm />\r\n    );\r\n};\r\n\r\n\r\nexport const action = async ({ request, params }) => {\r\n    const propertyId = params.propertyId;\r\n    const data = await request.formData();\r\n\r\n    const data_start = data.get(\"data_start\");\r\n    const data_end = data.get(\"data_end\");\r\n    // console.log(data_start, data_end, propertyId);\r\n\r\n    \r\n  let saleData = {\r\n    placeId: propertyId,\r\n    data_start: data.get(\"data_start\"),\r\n    data_end: data.get(\"data_end\"),\r\n    nume\r\n  };\r\n\r\n  const token = getAuthToken();\r\n\r\n  const response = await fetch(\"http://localhost:8000/sale\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n    body: JSON.stringify(saleData),\r\n  });\r\n\r\n\r\n  if (response.status === 422 || response.status === 401) {\r\n    return response;\r\n  }\r\n\r\n  if (!response.ok) {\r\n    throw json({ message: \"Could not authenticate user.\" }, { status: 500 });\r\n  }\r\n\r\n  return redirect(\"/\");\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default BookPage;"],"mappings":";AAAA,SAASA,IAAI,EAAEC,QAAQ,QAAQ,kBAAkB;AACjD,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,SAASC,YAAY,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG7C,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EACnB,oBACID,OAAA,CAACH,QAAQ;IAAAK,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAEpB,CAAC;AAACC,EAAA,GAJIL,QAAQ;AAOd,OAAO,MAAMM,MAAM,GAAG,MAAAA,CAAO;EAAEC,OAAO;EAAEC;AAAO,CAAC,KAAK;EACjD,MAAMC,UAAU,GAAGD,MAAM,CAACC,UAAU;EACpC,MAAMC,IAAI,GAAG,MAAMH,OAAO,CAACI,QAAQ,CAAC,CAAC;EAErC,MAAMC,UAAU,GAAGF,IAAI,CAACG,GAAG,CAAC,YAAY,CAAC;EACzC,MAAMC,QAAQ,GAAGJ,IAAI,CAACG,GAAG,CAAC,UAAU,CAAC;EACrC;;EAGF,IAAIE,QAAQ,GAAG;IACbC,OAAO,EAAEP,UAAU;IACnBG,UAAU,EAAEF,IAAI,CAACG,GAAG,CAAC,YAAY,CAAC;IAClCC,QAAQ,EAAEJ,IAAI,CAACG,GAAG,CAAC,UAAU,CAAC;IAC9BI;EACF,CAAC;EAED,MAAMC,KAAK,GAAGrB,YAAY,CAAC,CAAC;EAE5B,MAAMsB,QAAQ,GAAG,MAAMC,KAAK,CAAC,4BAA4B,EAAE;IACzDC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,SAAS,GAAGL;IAC7B,CAAC;IACDM,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACX,QAAQ;EAC/B,CAAC,CAAC;EAGF,IAAII,QAAQ,CAACQ,MAAM,KAAK,GAAG,IAAIR,QAAQ,CAACQ,MAAM,KAAK,GAAG,EAAE;IACtD,OAAOR,QAAQ;EACjB;EAEA,IAAI,CAACA,QAAQ,CAACS,EAAE,EAAE;IAChB,MAAMlC,IAAI,CAAC;MAAEmC,OAAO,EAAE;IAA+B,CAAC,EAAE;MAAEF,MAAM,EAAE;IAAI,CAAC,CAAC;EAC1E;EAEA,OAAOhC,QAAQ,CAAC,GAAG,CAAC;AAKtB,CAAC;AAED,eAAeK,QAAQ;AAAC,IAAAK,EAAA;AAAAyB,YAAA,CAAAzB,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}