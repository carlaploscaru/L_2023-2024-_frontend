{"ast":null,"code":"var _jsxFileName = \"D:\\\\proiecte\\\\frontend\\\\src\\\\pages\\\\Book.js\";\nimport BookForm from \"../components/BookForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookPage = () => {\n  return /*#__PURE__*/_jsxDEV(BookForm, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 9\n  }, this);\n};\n_c = BookPage;\nexport const action = async ({\n  request,\n  params\n}) => {\n  const propertyId = params.propertyId;\n  const data = await request.formData();\n  const data_start = data.get(\"data_start\");\n  const data_end = data.get(\"data_end\");\n  // console.log(data_start, data_end, propertyId);\n\n  let saleData = {\n    placeId: propertyId,\n    data_start: data.get(\"data_start\"),\n    data_end: data.get(\"data_end\")\n  };\n  const token = getAuthToken();\n  const response = await fetch(\"http://localhost:8000/sale\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + token\n    },\n    body: JSON.stringify(authData)\n  });\n  if (response.status === 422 || response.status === 401) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({\n      message: \"Could not authenticate user.\"\n    }, {\n      status: 500\n    });\n  }\n  return redirect(\"/\");\n};\nexport default BookPage;\nvar _c;\n$RefreshReg$(_c, \"BookPage\");","map":{"version":3,"names":["BookForm","jsxDEV","_jsxDEV","BookPage","fileName","_jsxFileName","lineNumber","columnNumber","_c","action","request","params","propertyId","data","formData","data_start","get","data_end","saleData","placeId","token","getAuthToken","response","fetch","method","headers","Authorization","body","JSON","stringify","authData","status","ok","json","message","redirect","$RefreshReg$"],"sources":["D:/proiecte/frontend/src/pages/Book.js"],"sourcesContent":["import BookForm from \"../components/BookForm\";\r\n\r\n\r\nconst BookPage = () => {\r\n    return (\r\n        <BookForm />\r\n    );\r\n};\r\n\r\n\r\nexport const action = async ({ request, params }) => {\r\n    const propertyId = params.propertyId;\r\n    const data = await request.formData();\r\n\r\n    const data_start = data.get(\"data_start\");\r\n    const data_end = data.get(\"data_end\");\r\n    // console.log(data_start, data_end, propertyId);\r\n\r\n    \r\n  let saleData = {\r\n    placeId: propertyId,\r\n    data_start: data.get(\"data_start\"),\r\n    data_end: data.get(\"data_end\"),\r\n  };\r\n\r\n  const token = getAuthToken();\r\n\r\n  const response = await fetch(\"http://localhost:8000/sale\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n    body: JSON.stringify(authData),\r\n  });\r\n\r\n\r\n  if (response.status === 422 || response.status === 401) {\r\n    return response;\r\n  }\r\n\r\n  if (!response.ok) {\r\n    throw json({ message: \"Could not authenticate user.\" }, { status: 500 });\r\n  }\r\n\r\n  return redirect(\"/\");\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default BookPage;"],"mappings":";AAAA,OAAOA,QAAQ,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG9C,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EACnB,oBACID,OAAA,CAACF,QAAQ;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAEpB,CAAC;AAACC,EAAA,GAJIL,QAAQ;AAOd,OAAO,MAAMM,MAAM,GAAG,MAAAA,CAAO;EAAEC,OAAO;EAAEC;AAAO,CAAC,KAAK;EACjD,MAAMC,UAAU,GAAGD,MAAM,CAACC,UAAU;EACpC,MAAMC,IAAI,GAAG,MAAMH,OAAO,CAACI,QAAQ,CAAC,CAAC;EAErC,MAAMC,UAAU,GAAGF,IAAI,CAACG,GAAG,CAAC,YAAY,CAAC;EACzC,MAAMC,QAAQ,GAAGJ,IAAI,CAACG,GAAG,CAAC,UAAU,CAAC;EACrC;;EAGF,IAAIE,QAAQ,GAAG;IACbC,OAAO,EAAEP,UAAU;IACnBG,UAAU,EAAEF,IAAI,CAACG,GAAG,CAAC,YAAY,CAAC;IAClCC,QAAQ,EAAEJ,IAAI,CAACG,GAAG,CAAC,UAAU;EAC/B,CAAC;EAED,MAAMI,KAAK,GAAGC,YAAY,CAAC,CAAC;EAE5B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4BAA4B,EAAE;IACzDC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,SAAS,GAAGN;IAC7B,CAAC;IACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACC,QAAQ;EAC/B,CAAC,CAAC;EAGF,IAAIR,QAAQ,CAACS,MAAM,KAAK,GAAG,IAAIT,QAAQ,CAACS,MAAM,KAAK,GAAG,EAAE;IACtD,OAAOT,QAAQ;EACjB;EAEA,IAAI,CAACA,QAAQ,CAACU,EAAE,EAAE;IAChB,MAAMC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAA+B,CAAC,EAAE;MAAEH,MAAM,EAAE;IAAI,CAAC,CAAC;EAC1E;EAEA,OAAOI,QAAQ,CAAC,GAAG,CAAC;AAKtB,CAAC;AAED,eAAehC,QAAQ;AAAC,IAAAK,EAAA;AAAA4B,YAAA,CAAA5B,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}